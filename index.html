<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MattGPT - Enhanced Agentic AI Research Platform</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles specific to homepage */
        .hero-section {
            background: var(--gradient-primary);
            color: var(--neutral-0);
            padding: 60px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 4s infinite;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-content h1 {
            font-size: 3em;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-electric), var(--primary-400), var(--accent-neon));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.025em;
        }

        .hero-content p {
            font-size: 1.3em;
            opacity: 0.9;
            font-weight: 400;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .cta-button {
            background: var(--gradient-accent);
            color: var(--neutral-0);
            border: none;
            padding: 15px 30px;
            border-radius: var(--radius-md);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(6, 182, 212, 0.4);
        }

        .video-container {
            background: var(--neutral-0);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin: 40px auto;
            max-width: 800px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .video-container h3 {
            color: var(--primary-600);
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .video-placeholder {
            background: var(--neutral-800);
            border-radius: var(--radius-md);
            aspect-ratio: 16/9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--neutral-400);
            font-size: 1.2em;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .video-placeholder::before {
            content: '‚ñ∂Ô∏è';
            font-size: 3em;
            opacity: 0.7;
        }

        .video-placeholder video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--radius-md);
        }

        .main-content {
            padding: 0 30px 60px;
            background: var(--neutral-0);
        }

        .podcast-grid, .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .podcast-item, .review-item {
            background: var(--gradient-surface);
            border-radius: var(--radius-md);
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--accent-electric);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .podcast-item:hover, .review-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .podcast-item::before, .review-item::before {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.05), transparent);
            transition: right 0.5s ease;
        }

        .podcast-item:hover::before, .review-item:hover::before {
            right: 100%;
        }

        .item-title {
            font-size: 1.2em;
            font-weight: 600;
            color: var(--primary-600);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .item-meta {
            color: var(--neutral-500);
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .item-description {
            color: var(--neutral-600);
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .download-button {
            background: var(--primary-600);
            color: var(--neutral-0);
            border: none;
            padding: 8px 16px;
            border-radius: var(--radius-md);
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            text-decoration: none;
            display: inline-block;
        }

        .download-button:hover {
            background: var(--primary-700);
            transform: translateY(-1px);
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: var(--neutral-500);
            font-style: italic;
        }

        .empty-state-icon {
            font-size: 3em;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        .download-instructions {
            background: var(--primary-50);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin: 20px 0;
            border: 2px solid var(--accent-electric);
        }

        .download-instructions h4 {
            color: var(--primary-700);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .download-instructions ol {
            color: var(--neutral-700);
            line-height: 1.6;
            padding-left: 20px;
        }

        .download-instructions li {
            margin-bottom: 8px;
        }

        .archive-download {
            background: var(--gradient-accent);
            color: var(--neutral-0);
            border: none;
            padding: 15px 25px;
            border-radius: var(--radius-md);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
        }

        .archive-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--neutral-300);
            border-radius: 50%;
            border-top-color: var(--primary-600);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Dark mode overrides */
        .dark-mode .video-container {
            background: var(--neutral-800);
        }

        .dark-mode .video-container h3 {
            color: var(--accent-electric);
        }

        .dark-mode .main-content {
            background: var(--neutral-900);
        }

        .dark-mode .podcast-item, 
        .dark-mode .review-item {
            background: var(--neutral-800);
            color: var(--neutral-100);
        }

        .dark-mode .item-title {
            color: var(--accent-electric);
        }

        .dark-mode .item-description {
            color: var(--neutral-200);
        }

        .dark-mode .download-instructions {
            background: var(--neutral-800);
            color: var(--neutral-100);
            border-color: var(--accent-electric);
        }

        .dark-mode .download-instructions h4 {
            color: var(--accent-electric);
        }

        .dark-mode .download-instructions ol {
            color: var(--neutral-200);
        }

        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.2em;
            }
            
            .podcast-grid, .review-grid {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                padding: 0 20px 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <button class="darkmode-toggle" id="darkmode-toggle" aria-label="Toggle dark mode">
                <span id="darkmode-icon">üåô</span>
            </button>
            <div class="header-text">
                <h1>MattGPT</h1>
                <p>Enhanced Agentic AI Research Platform</p>
            </div>
        </div>

        <!-- Navigation -->
        <div class="tab-nav">
            <button class="tab-button active" onclick="showTab('home')">
                üè† Home
            </button>
            <button class="tab-button" onclick="showTab('podcasts')">
                üéôÔ∏è Podcasts
            </button>
            <button class="tab-button" onclick="showTab('reviews')">
                üìä Week in Review
            </button>
            <button class="tab-button" onclick="showTab('download')">
                üì• Download
            </button>
            <button class="tab-button" onclick="showTab('architecture')">
                üèóÔ∏è Architecture
            </button>
        </div>

        <!-- HOME TAB -->
        <div id="home" class="tab-content active">
            <div class="hero-section">
                <div class="hero-content">
                    <h1>Welcome to MattGPT</h1>
                    <p>Your intelligent research companion that transforms how you discover, analyze, and consume information. From automated hot topics detection to AI-generated podcasts, MattGPT brings cutting-edge AI research capabilities to your fingertips.</p>
                </div>
            </div>
            
            <div class="main-content">
                <div class="video-container">
                    <h3>üé¨ Learn About MattGPT</h3>
                    <div class="video-placeholder" id="videoContainer">
                        <video controls style="display: none;" id="aboutVideo">
                            <source src="aboutMattGPT.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div id="videoPlaceholder">
                            Video: aboutMattGPT.mp4
                        </div>
                    </div>
                    <p style="color: var(--neutral-600); font-size: 0.9em;">Discover how MattGPT revolutionizes research workflows with AI-powered automation</p>
                </div>

                <div class="section">
                    <h2>üéØ Core Capabilities</h2>
                    <div class="workflow-grid">
                        <div class="workflow-card">
                            <div class="workflow-title">üîç Smart Research Discovery</div>
                            <div class="workflow-description">
                                Automated hot topics analysis with AI-powered article collection, relevance scoring, and boost algorithms for trending content.
                            </div>
                        </div>
                        
                        <div class="workflow-card">
                            <div class="workflow-title">üåê Enhanced Internet Search</div>
                            <div class="workflow-description">
                                Multi-provider web search with real-time analysis, content extraction, and intelligent result curation.
                            </div>
                        </div>
                        
                        <div class="workflow-card">
                            <div class="workflow-title">üìä Week in Review Analytics</div>
                            <div class="workflow-description">
                                7-day trend consolidation with interactive word clouds, keyword frequency analysis, and comprehensive summaries.
                            </div>
                        </div>
                        
                        <div class="workflow-card">
                            <div class="workflow-title">üéôÔ∏è AI Podcast Generation</div>
                            <div class="workflow-description">
                                Automated podcast creation with Edge-TTS, dual voice synthesis, and intelligent script generation from top articles.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PODCASTS TAB -->
        <div id="podcasts" class="tab-content">
            <div class="main-content">
                <div class="section">
                    <h2>üéôÔ∏è AI-Generated Podcasts</h2>
                    <p style="color: var(--neutral-600); margin-bottom: 30px;">
                        Discover our latest AI-generated podcasts featuring intelligent discussions about trending topics, research insights, and technology developments.
                    </p>
                    
                    <div id="podcastGrid" class="podcast-grid">
                        <div class="loading-spinner"></div>
                        <span style="margin-left: 10px; color: var(--neutral-600);">Loading podcasts...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- WEEK IN REVIEW TAB -->
        <div id="reviews" class="tab-content">
            <div class="main-content">
                <div class="section">
                    <h2>üìä Week in Review Analytics</h2>
                    <p style="color: var(--neutral-600); margin-bottom: 30px;">
                        Explore comprehensive weekly analyses with keyword trends, topic clustering, and insightful summaries of the week's most important developments.
                    </p>
                    
                    <div id="reviewGrid" class="review-grid">
                        <div class="loading-spinner"></div>
                        <span style="margin-left: 10px; color: var(--neutral-600);">Loading week reviews...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- DOWNLOAD TAB -->
        <div id="download" class="tab-content">
            <div class="main-content">
                <div class="section">
                    <h2>üì• Download MattGPT</h2>
                    
                    <div class="download-instructions">
                        <h4>üöÄ Installation Instructions (NOTE: These are designed for Mac, your exact commands may differ)</h4>
                        <ol>
                            <li><strong>This is not for the faint of heart! This is a proof of concept that it's possible to run a multi-agentic system, built and running for FREE on a local computer (even the LLM). It's not perfect but it works and it's a great way to learn. So step out of your comfort zone and have fun!</strong></li>
                            <li><strong>Download the Archive:</strong> Click the download button below to get the complete MattGPT source code archive.</li>
                            <li><strong>Extract Files:</strong> Unzip the <code>archive.zip</code> file to your preferred directory.</li>
                            <li><strong>Install Python 3.12:</strong> Download from your preferred repo based on your operating system</li>
                            <li><strong>Install Ollama:</strong> Visit Ollama website to find installer for your operating system.</li>
                            <li><strong>Download your LLM:</strong> <code>ollama pull granite3.2:8b</code> MattGPT is already designed to use IBM's Granite 3.2:8b.</li>
                            <li><strong>Configure Environment:</strong> In your working directory for this app, run <code>python3.12 -m venv .venv</code></li>
                            <li><strong>Activate Your Environment:</strong> In your working directory for this app, run <code>. .venv/bin/activate</code></li>
                            <li><strong>Install Dependencies:</strong> While in your environment, run <code>pip3 install -r requirements.txt</code> to install Python dependencies.</li>
                            <li><strong>Install Additional Tools:</strong> FFMPEG for Podcast stitching, d3 for local word cloud creation</li>
                            <li><strong>First Run:</strong> There is a script ready to go. Just type <code>./MattGPT.sh</code></li>
                            <li><strong>Launch the UI:</strong> Open a web browser and type in: <code>http://localhost:5000</code></li>
                            <li><strong>Change sources or Models:</strong> Edit the <code>sources_config.JSON</code>file and adjust anything you want!</li>

                        </ol>
                        
                        <h4>üîß System Requirements</h4>
                        <ul style="margin-top: 15px; color: var(--neutral-700);">
                            <li>Python 3.12+ with pip package manager</li>
                            <li>16GB+ RAM for optimal LLM processing</li>
                            <li>Internet connection for web search and API access</li>
                            <li>Modern web browser with JavaScript enabled (Chrome preferred)</li>
                            <li>Lots of patience and a desire to learn</li>
                        </ul>
                        
                        <h4>üéØ Optional Features</h4>
                        <ul style="margin-top: 15px; color: var(--neutral-700);">
                            <li><strong>Edge-TTS:</strong> For high-quality podcast voice synthesis</li>
                            <li><strong>API Keys:</strong> Google Custom Search, OpenAI, or local LLM setup</li>
                            <li><strong>PDF Processing:</strong> Additional libraries for enhanced document analysis</li>
                        </ul>
                        
                        <a href="source/archive.zip" class="archive-download" download>
                            üì¶ Download MattGPT Archive
                        </a>
                    </div>
                    
                    <div style="background: var(--primary-50); border-radius: var(--radius-md); padding: 20px; margin-top: 30px; border-left: 4px solid var(--accent-neon);">
                        <h4 style="color: var(--primary-700); margin-bottom: 10px;">üí° Need Help?</h4>
                        <p style="color: var(--neutral-700); margin: 0;">
                            I strongly suggest, especially if you're learning, to have an assistant like Claude or ChatGPT that you can show errors, let them analyze files, and help you fix problems or make changes. It's an amazing helper, just don't let them do everything for you!
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ARCHITECTURE TAB -->
        <div id="architecture" class="tab-content">
            <div class="main-content">
                <div class="section">
                    <h2>üîß The Tech Behind It</h2>
                        <p style="color: var(--neutral-600); margin-bottom: 30px;">
                            Discover the sophisticated architecture powering MattGPT's intelligent research capabilities, from multi-provider search integration to AI-powered content generation.
                        </p>

                        <div class="workflow-grid">
                            <div class="workflow-card">
                                <div class="workflow-title">ü§ñ Advanced AI Integration</div>
                                <div class="workflow-description">
                                    LLM-powered analysis with Granite3.2:8b for summarization, relevance scoring, and intelligent trend consolidation across multiple data sources.
                                </div>
                            </div>

                            <div class="workflow-card">
                                <div class="workflow-title">üåê Multi-Provider Search</div>
                                <div class="workflow-description">
                                    Intelligent search orchestration across DuckDuckGo, Google Custom Search, and Bing with automatic fallbacks and result aggregation.
                                </div>
                            </div>

                            <div class="workflow-card">
                                <div class="workflow-title">üéôÔ∏è Edge-TTS Audio Synthesis</div>
                                <div class="workflow-description">
                                    High-quality voice synthesis with dual speaker personalities, intelligent pause insertion, and seamless audio assembly for podcast generation.
                                </div>
                            </div>

                            <div class="workflow-card">
                                <div class="workflow-title">üìä Real-time Analytics</div>
                                <div class="workflow-description">
                                    D3.js visualizations with interactive word clouds, hot topics boost algorithms, and comprehensive week-in-review trend analysis.
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin: 40px 0; padding: 30px; background: var(--gradient-surface); border-radius: var(--radius-lg); border: 2px solid var(--accent-electric);">
                            <div style="font-size: 3em; margin-bottom: 15px;">üèóÔ∏è</div>
                            <h3 style="color: var(--primary-600); margin-bottom: 15px;">Deep Dive into the Architecture</h3>
                            <p style="color: var(--neutral-600); margin-bottom: 25px; max-width: 600px; margin-left: auto; margin-right: auto;">
                                Explore comprehensive technical documentation, workflow diagrams, interactive demonstrations, and detailed implementation guides for every component of the MattGPT platform.
                            </p>
                            <a href="architecture.html" class="cta-button" target="_blank">üìñ Explore Technical Architecture</a>
                            </a>
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab management
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Load content for specific tabs
            if (tabName === 'podcasts' && !window.podcastsLoaded) {
                loadPodcasts();
            } else if (tabName === 'reviews' && !window.reviewsLoaded) {
                loadWeekReviews();
            }
        }

        // Load podcasts from podcast/ folder
        async function loadPodcasts() {
            const grid = document.getElementById('podcastGrid');
            window.podcastsLoaded = true;

            try {
                // Simulate API call to get podcast files
                const response = await fetch('/api/podcasts');

                if (!response.ok) {
                    throw new Error('Failed to load podcasts');
                }

                const podcasts = await response.json();

                if (podcasts.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">üéôÔ∏è</div>
                            <p>No podcasts available yet. Check back soon for AI-generated content!</p>
                        </div>
                    `;
                    return;
                }

                // Create a simple list of available files (similar to week reviews)
                grid.innerHTML = `
                    <div style="background: var(--gradient-surface); border-radius: var(--radius-lg); padding: 30px;">
                        <h3 style="color: var(--primary-600); margin-bottom: 20px;">üéôÔ∏è Available Podcasts</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            ${podcasts.map(podcast => `
                                <li style="margin-bottom: 15px;">
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                        <span style="font-size: 1.5em;">üéôÔ∏è</span>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; color: var(--primary-600);">${podcast.title}</div>
                                            <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">${podcast.date} ‚Ä¢ ${podcast.duration}</div>
                                            <div style="font-size: 0.85em; color: var(--neutral-600); margin-top: 5px;">${podcast.description}</div>
                                        </div>
                                        <div style="display: flex; gap: 10px; align-items: center;">
                                            <button onclick="togglePodcastPlayer('${podcast.filename}', this)"
                                                    style="background: var(--accent-electric); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast);"
                                                    onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                                    onmouseout="this.style.background='var(--accent-electric)'; this.style.transform='translateY(0)';">
                                                üéß Listen
                                            </button>
                                            <a href="podcast/${podcast.filename}"
                                               style="background: var(--primary-600); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); text-decoration: none; display: inline-block;"
                                               onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                               onmouseout="this.style.background='var(--primary-600)'; this.style.transform='translateY(0)';"
                                               download>
                                                üì• Download
                                            </a>
                                        </div>
                                    </div>
                                    <div id="player-${podcast.filename.replace(/[^a-zA-Z0-9]/g, '')}" style="display: none; margin-top: 10px; padding: 15px; background: var(--neutral-50); border-radius: var(--radius-md); border: 1px solid var(--neutral-200);">
                                        <audio controls style="width: 100%; max-width: 100%;">
                                            <source src="podcast/${podcast.filename}" type="audio/mpeg">
                                            Your browser does not support the audio element.
                                        </audio>
                                    </div>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;

            } catch (error) {
                // Fallback for development/demo
                grid.innerHTML = `
                    <div style="background: var(--gradient-surface); border-radius: var(--radius-lg); padding: 30px;">
                        <h3 style="color: var(--primary-600); margin-bottom: 20px;">üéôÔ∏è Available Podcasts</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 15px;">
                                <div style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <span style="font-size: 1.5em;">üéôÔ∏è</span>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; color: var(--primary-600);">Daily Tech Digest - June 23, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-23 ‚Ä¢ 15:30 duration</div>
                                        <div style="font-size: 0.85em; color: var(--neutral-600); margin-top: 5px;">AI-generated discussion covering today's hottest tech topics, including breakthrough developments in machine learning.</div>
                                    </div>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <button onclick="togglePodcastPlayer('podcast_20250623.mp3', this)"
                                                style="background: var(--accent-electric); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast);"
                                                onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                                onmouseout="this.style.background='var(--accent-electric)'; this.style.transform='translateY(0)';">
                                            üéß Listen
                                        </button>
                                        <a href="podcast/podcast_20250623.mp3"
                                           style="background: var(--primary-600); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); text-decoration: none; display: inline-block;"
                                           onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                           onmouseout="this.style.background='var(--primary-600)'; this.style.transform='translateY(0)';"
                                           download>
                                            üì• Download
                                        </a>
                                    </div>
                                </div>
                                <div id="player-podcast20250623mp3" style="display: none; margin-top: 10px; padding: 15px; background: var(--neutral-50); border-radius: var(--radius-md); border: 1px solid var(--neutral-200);">
                                    <audio controls style="width: 100%; max-width: 100%;">
                                        <source src="podcast/podcast_20250623.mp3" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </li>

                            <li style="margin-bottom: 15px;">
                                <div style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <span style="font-size: 1.5em;">üéôÔ∏è</span>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; color: var(--primary-600);">Research Roundup - June 24, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-24 ‚Ä¢ 18:45 duration</div>
                                        <div style="font-size: 0.85em; color: var(--neutral-600); margin-top: 5px;">Weekly research highlights featuring cutting-edge papers from arXiv and industry insights.</div>
                                    </div>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <button onclick="togglePodcastPlayer('podcast_20250624.mp3', this)"
                                                style="background: var(--accent-electric); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast);"
                                                onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                                onmouseout="this.style.background='var(--accent-electric)'; this.style.transform='translateY(0)';">
                                            üéß Listen
                                        </button>
                                        <a href="podcast/podcast_20250624.mp3"
                                           style="background: var(--primary-600); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); text-decoration: none; display: inline-block;"
                                           onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                           onmouseout="this.style.background='var(--primary-600)'; this.style.transform='translateY(0)';"
                                           download>
                                            üì• Download
                                        </a>
                                    </div>
                                </div>
                                <div id="player-podcast20250624mp3" style="display: none; margin-top: 10px; padding: 15px; background: var(--neutral-50); border-radius: var(--radius-md); border: 1px solid var(--neutral-200);">
                                    <audio controls style="width: 100%; max-width: 100%;">
                                        <source src="podcast/podcast_20250624.mp3" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </li>

                            <li style="margin-bottom: 15px;">
                                <div style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <span style="font-size: 1.5em;">üéôÔ∏è</span>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; color: var(--primary-600);">Startup Spotlight - June 25, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-25 ‚Ä¢ 12:20 duration</div>
                                        <div style="font-size: 0.85em; color: var(--neutral-600); margin-top: 5px;">Featured discussions about emerging startups and innovative business models.</div>
                                    </div>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <button onclick="togglePodcastPlayer('podcast_20250625.mp3', this)"
                                                style="background: var(--accent-electric); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast);"
                                                onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                                onmouseout="this.style.background='var(--accent-electric)'; this.style.transform='translateY(0)';">
                                            üéß Listen
                                        </button>
                                        <a href="podcast/podcast_20250625.mp3"
                                           style="background: var(--primary-600); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); text-decoration: none; display: inline-block;"
                                           onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                           onmouseout="this.style.background='var(--primary-600)'; this.style.transform='translateY(0)';"
                                           download>
                                            üì• Download
                                        </a>
                                    </div>
                                </div>
                                <div id="player-podcast20250625mp3" style="display: none; margin-top: 10px; padding: 15px; background: var(--neutral-50); border-radius: var(--radius-md); border: 1px solid var(--neutral-200);">
                                    <audio controls style="width: 100%; max-width: 100%;">
                                        <source src="podcast/podcast_20250625.mp3" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </li>

                            <li style="margin-bottom: 15px;">
                                <div style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <span style="font-size: 1.5em;">üéôÔ∏è</span>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; color: var(--primary-600);">Content Creation Focus - June 26, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-26 ‚Ä¢ 14:15 duration</div>
                                        <div style="font-size: 0.85em; color: var(--neutral-600); margin-top: 5px;">Big news shifts to videos and content creation in today's topics.</div>
                                    </div>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <button onclick="togglePodcastPlayer('podcast_20250626.mp3', this)"
                                                style="background: var(--accent-electric); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast);"
                                                onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                                onmouseout="this.style.background='var(--accent-electric)'; this.style.transform='translateY(0)';">
                                            üéß Listen
                                        </button>
                                        <a href="podcast/podcast_20250626.mp3"
                                           style="background: var(--primary-600); color: var(--neutral-0); border: none; padding: 8px 16px; border-radius: var(--radius-md); font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); text-decoration: none; display: inline-block;"
                                           onmouseover="this.style.background='var(--primary-700)'; this.style.transform='translateY(-1px)';"
                                           onmouseout="this.style.background='var(--primary-600)'; this.style.transform='translateY(0)';"
                                           download>
                                            üì• Download
                                        </a>
                                    </div>
                                </div>
                                <div id="player-podcast20250626mp3" style="display: none; margin-top: 10px; padding: 15px; background: var(--neutral-50); border-radius: var(--radius-md); border: 1px solid var(--neutral-200);">
                                    <audio controls style="width: 100%; max-width: 100%;">
                                        <source src="podcast/podcast_20250626.mp3" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </li>
                        </ul>
                    </div>
                `;
            }
        }

        // Add this new function for the podcast player toggle:
        function togglePodcastPlayer(filename, button) {
            const playerId = 'player-' + filename.replace(/[^a-zA-Z0-9]/g, '');
            const player = document.getElementById(playerId);

            if (player.style.display === 'none' || player.style.display === '') {
                player.style.display = 'block';
                button.innerHTML = '‚èπÔ∏è Hide';
                button.style.background = 'var(--neutral-500)';

                // Auto-play the audio when showing the player
                const audio = player.querySelector('audio');
                if (audio) {
                    audio.play().catch(e => {
                        console.log('Auto-play prevented by browser policy');
                    });
                }
            } else {
                player.style.display = 'none';
                button.innerHTML = 'üéß Listen';
                button.style.background = 'var(--accent-electric)';

                // Pause the audio when hiding the player
                const audio = player.querySelector('audio');
                if (audio) {
                    audio.pause();
                }
            }
        }

        // Load week reviews from wir/ folder
        async function loadWeekReviews() {
            const grid = document.getElementById('reviewGrid');
            window.reviewsLoaded = true;

            try {
                // Simulate API call to get week review files
                const response = await fetch('/api/week-reviews');

                if (!response.ok) {
                    throw new Error('Failed to load reviews');
                }

                const reviews = await response.json();

                if (reviews.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">üìä</div>
                            <p>No week reviews available yet. Analysis reports will appear here once generated!</p>
                        </div>
                    `;
                    return;
                }

                // Create a simple list of available files
                grid.innerHTML = `
                    <div style="background: var(--gradient-surface); border-radius: var(--radius-lg); padding: 30px;">
                        <h3 style="color: var(--primary-600); margin-bottom: 20px;">üìã Available Week Reviews</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            ${reviews.map(review => `
                                <li style="margin-bottom: 15px;">
                                    <a href="javascript:void(0)"
                                       onclick="openWeekReview('${review.filename}')"
                                       style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                       onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                       onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                        <span style="font-size: 1.5em;">üìä</span>
                                        <div>
                                            <div style="font-weight: 600; color: var(--primary-600);">${review.title}</div>
                                            <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">${review.date} ‚Ä¢ ${review.topicsCount} topics analyzed</div>
                                        </div>
                                    </a>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;

            } catch (error) {
                // Fallback for development/demo - generate list based on current_events_analysis pattern
                grid.innerHTML = `
                    <div style="background: var(--gradient-surface); border-radius: var(--radius-lg); padding: 30px;">
                        <h3 style="color: var(--primary-600); margin-bottom: 20px;">üìã Available Week Reviews</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('week_review_2025-06-26.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 26, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-26 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('week_review_2025-06-25.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 25, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-25 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('week_review_2025-06-24.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 24, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-24 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>
                            <!-- Date: 20250623 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('week_review_2025-06-23.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 23, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-23 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>

                            <!-- Date: 20250622 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('current_events_analysis_20250622.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 22, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-22 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>

                            <!-- Date: 20250621 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('current_events_analysis_20250621.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 21, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-21 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>

                            <!-- Date: 20250620 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('current_events_analysis_20250620.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 20, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-20 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>

                            <!-- Date: 20250619 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('current_events_analysis_20250619.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 19, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-19 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>

                            <!-- Date: 20250618 -->
                            <li style="margin-bottom: 15px;">
                                <a href="javascript:void(0)"
                                   onclick="openWeekReview('current_events_analysis_20250618.json')"
                                   style="display: flex; align-items: center; gap: 10px; padding: 15px; background: var(--neutral-0); border-radius: var(--radius-md); text-decoration: none; color: var(--primary-600); border-left: 4px solid var(--accent-electric); transition: all var(--transition-normal); box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.15)';"
                                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
                                    <span style="font-size: 1.5em;">üìä</span>
                                    <div>
                                        <div style="font-weight: 600; color: var(--primary-600);">Current Events Analysis - June 18, 2025</div>
                                        <div style="font-size: 0.9em; color: var(--neutral-500); margin-top: 3px;">2025-06-18 ‚Ä¢ Technology & Business Focus</div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                `;
            }
        }

        // Function to open week review in new tab
        function openWeekReview(filename) {
            const url = `week_review_display.html?file=${encodeURIComponent(filename)}`;
            window.open(url, '_blank');
        }

        // Check for video file and show/hide accordingly
        function checkVideoAvailability() {
            const video = document.getElementById('aboutVideo');
            const placeholder = document.getElementById('videoPlaceholder');
            
            video.addEventListener('loadeddata', function() {
                video.style.display = 'block';
                placeholder.style.display = 'none';
            });
            
            video.addEventListener('error', function() {
                placeholder.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                        <div style="font-size: 3em; opacity: 0.5;">üé¨</div>
                        <div>Video: aboutMattGPT.mp4</div>
                        <div style="font-size: 0.8em; opacity: 0.7;">(Video file not found)</div>
                    </div>
                `;
            });
        }

        // Dark mode toggle
        const darkToggle = document.getElementById('darkmode-toggle');
        const darkIcon = document.getElementById('darkmode-icon');
        
        function setDarkMode(on) {
            document.body.classList.toggle('dark-mode', on);
            darkIcon.textContent = on ? '‚òÄÔ∏è' : 'üåô';
        }
        
        // Load preference
        const darkPref = localStorage.getItem('dark-mode') === 'true';
        setDarkMode(darkPref);
        
        darkToggle.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('dark-mode');
            darkIcon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('dark-mode', isDark);
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            checkVideoAvailability();
        });
    </script>
</body>
</html>