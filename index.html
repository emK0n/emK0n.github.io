<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MattGPT - Enhanced Research Platform Architecture</title>
    <style>
        /* Modern 2025 Design System - Matching style.css */
        :root {
            /* Primary Color Palette */
            --primary-50: #f0f9ff;
            --primary-100: #e0f2fe;
            --primary-200: #bae6fd;
            --primary-300: #7dd3fc;
            --primary-400: #38bdf8;
            --primary-500: #0ea5e9;
            --primary-600: #0284c7;
            --primary-700: #0369a1;
            --primary-800: #075985;
            --primary-900: #0c4a6e;
            
            /* Accent Colors */
            --accent-electric: #06b6d4;
            --accent-neon: #10b981;
            --accent-warning: #f59e0b;
            --accent-error: #ef4444;
            
            /* Neutral Palette */
            --neutral-0: #ffffff;
            --neutral-50: #f8fafc;
            --neutral-100: #f1f5f9;
            --neutral-200: #e2e8f0;
            --neutral-300: #cbd5e1;
            --neutral-400: #94a3b8;
            --neutral-500: #64748b;
            --neutral-600: #475569;
            --neutral-700: #334155;
            --neutral-800: #1e293b;
            --neutral-900: #0f172a;
            
            /* Glass Effects */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-800) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent-electric) 0%, var(--primary-600) 100%);
            --gradient-surface: linear-gradient(135deg, var(--neutral-50) 0%, var(--neutral-100) 100%);
            --gradient-dark: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-900) 100%);
            
            /* Border Radius */
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--neutral-900) 0%, var(--primary-900) 50%, var(--neutral-900) 100%);
            min-height: 100vh;
            color: var(--neutral-100);
            overflow-x: hidden;
        }

        /* Animated background particles */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, rgba(6, 182, 212, 0.3), transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(16, 185, 129, 0.2), transparent),
                radial-gradient(1px 1px at 90px 40px, rgba(14, 165, 233, 0.3), transparent);
            background-size: 200px 200px;
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(1deg); }
            66% { transform: translateY(-10px) rotate(-1deg); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            box-shadow: var(--glass-shadow);
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        .header {
            background: var(--gradient-primary);
            color: var(--neutral-0);
            padding: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .header::after {
            content: '';
            width: 80px;
            height: 80px;
            background-image: url"MattGPT.png";
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            flex-shrink: 0;
            filter: drop-shadow(0 0 20px rgba(6, 182, 212, 0.5));
            animation: pulse-glow 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(6, 182, 212, 0.5)); }
            50% { filter: drop-shadow(0 0 30px rgba(6, 182, 212, 0.8)); }
        }

        .header-text {
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-electric), var(--primary-400), var(--accent-neon));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.025em;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            font-weight: 500;
        }

        .tab-nav {
            background: var(--gradient-surface);
            padding: 0;
            display: flex;
            border-bottom: 2px solid var(--neutral-200);
            overflow-x: auto;
        }

        .tab-button {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            color: var(--neutral-600);
            white-space: nowrap;
            min-width: 200px;
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(6, 182, 212, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .tab-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .tab-button.active {
            background: var(--neutral-0);
            color: var(--primary-600);
            border-bottom: 3px solid var(--accent-electric);
        }

        .tab-button:hover {
            background: var(--neutral-100);
            color: var(--neutral-700);
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
            padding: 30px;
            min-height: 800px;
            background: var(--neutral-0);
            color: var(--neutral-700);
        }

        .tab-content.active {
            display: block;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: var(--primary-600);
            border-bottom: 3px solid var(--accent-electric);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 700;
        }

        .section h3 {
            color: var(--neutral-800);
            margin: 30px 0 15px;
            font-size: 1.3em;
            font-weight: 600;
        }

        .workflow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }

        .workflow-card {
            background: var(--gradient-surface);
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid var(--accent-electric);
            transition: transform var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .workflow-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gradient-accent);
        }

        .workflow-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .workflow-title {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary-600);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .workflow-description {
            color: var(--neutral-600);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .flow-diagram {
            background: var(--primary-50);
            border-radius: var(--radius-lg);
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--accent-electric);
            position: relative;
        }

        .workflow-step {
            background: var(--neutral-0);
            margin: 15px 0;
            padding: 20px;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--primary-600);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            transition: all var(--transition-normal);
        }

        .workflow-step:hover {
            transform: translateX(5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .workflow-step::before {
            content: "→";
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-600);
            color: var(--neutral-0);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(2, 132, 199, 0.3);
        }

        .workflow-step.start::before {
            content: "🚀";
            background: var(--accent-neon);
        }

        .workflow-step.decision::before {
            content: "?";
            background: var(--accent-warning);
        }

        .workflow-step.end::before {
            content: "✓";
            background: var(--accent-neon);
        }

        .step-title {
            font-weight: 600;
            color: var(--neutral-800);
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .step-description {
            color: var(--neutral-600);
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .step-details {
            margin-top: 10px;
            font-size: 0.9em;
            color: var(--neutral-500);
            font-style: italic;
        }

        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }

        .component-card {
            background: var(--neutral-0);
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-top: 5px solid var(--accent-electric);
            transition: transform var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .component-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gradient-accent);
        }

        .component-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .component-title {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary-600);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .component-description {
            color: var(--neutral-600);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .methods-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .methods-list li {
            background: var(--primary-50);
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--primary-800);
            border-left: 3px solid var(--accent-electric);
        }

        .interactive-section {
            background: var(--primary-50);
            border-radius: var(--radius-lg);
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--accent-electric);
        }

        .expandable {
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .expandable:hover {
            background: var(--primary-100);
        }

        .expandable-content {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--primary-200);
        }

        .expandable-content.show {
            display: block;
        }

        .chain-animation {
            background: var(--gradient-dark);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .chain-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            opacity: 0.3;
            transition: all 1s ease;
            color: var(--neutral-300);
        }

        .chain-step.active {
            opacity: 1;
            color: var(--accent-electric);
            transform: scale(1.05);
        }

        .chain-step.completed {
            opacity: 0.8;
            color: var(--accent-neon);
        }

        .chain-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-right: 20px;
            background: var(--neutral-700);
            transition: all 0.5s ease;
        }

        .chain-step.active .chain-icon {
            background: var(--accent-electric);
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
            animation: pulse 2s ease-in-out infinite;
        }

        .chain-step.completed .chain-icon {
            background: var(--accent-neon);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .chain-content {
            flex: 1;
        }

        .chain-title {
            font-weight: 600;
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .chain-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .play-button {
            background: var(--gradient-accent);
            color: var(--neutral-0);
            border: none;
            padding: 12px 24px;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            margin: 20px 0;
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .endpoint-box {
            background: var(--primary-50);
            border: 2px solid var(--accent-electric);
            border-radius: var(--radius-md);
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }

        .method-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
        }

        .method-get {
            background: var(--accent-neon);
            color: var(--neutral-0);
        }

        .method-post {
            background: var(--accent-warning);
            color: var(--neutral-0);
        }

        code {
            background: var(--neutral-100);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--primary-700);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: var(--radius-lg);
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: unset;
            }
            
            .workflow-grid,
            .architecture-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-text">
                <h1>MattGPT</h1>
                <p>Enhanced Agentic AI Research Platform</p>
            </div>
        </div>

        <div class="tab-nav">
            <button class="tab-button active" onclick="showTab('overview')">
                🚀 Platform Overview
            </button>
            <button class="tab-button" onclick="showTab('workflow')">
                🔄 User Workflows
            </button>
            <button class="tab-button" onclick="showTab('chain')">
                🔗 Chain Animation
            </button>
            <button class="tab-button" onclick="showTab('architecture')">
                🏗️ Technical Architecture
            </button>
            <button class="tab-button" onclick="showTab('features')">
                ✨ Advanced Features
            </button>
        </div>

        <!-- PLATFORM OVERVIEW TAB -->
        <div id="overview" class="tab-content active">
            <div class="section">
                <h2>🚀 MattGPT Research Platform Overview</h2>
                
                <div class="workflow-grid">
                    <div class="workflow-card">
                        <div class="workflow-title">🔍 Smart Research Discovery</div>
                        <div class="workflow-description">
                            Automated hot topics analysis with AI-powered article collection, relevance scoring, and boost algorithms for trending content.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">🌐 Enhanced Internet Search</div>
                        <div class="workflow-description">
                            Multi-provider web search with real-time analysis, content extraction, and intelligent result curation.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">📊 Week in Review Analytics</div>
                        <div class="workflow-description">
                            7-day trend consolidation with interactive word clouds, keyword frequency analysis, and comprehensive summaries.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">🎙️ AI Podcast Generation</div>
                        <div class="workflow-description">
                            Automated podcast creation with Edge-TTS, dual voice synthesis, and intelligent script generation from top articles.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">💬 Contextual Chat Assistant</div>
                        <div class="workflow-description">
                            LLM-powered conversations with article context, PDF processing, and intelligent database search integration.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">📋 Dynamic Interest Management</div>
                        <div class="workflow-description">
                            Weighted interest scoring with morning greeting workflows, relevance customization, and adaptive learning.
                        </div>
                    </div>
                </div>

                <h3>🎯 Core Capabilities</h3>
                <div class="flow-diagram">
                    <div class="workflow-step">
                        <div class="step-title">Intelligent Content Curation</div>
                        <div class="step-description">Multi-source content collection from RSS feeds, arXiv papers, Reddit, and Hacker News with AI relevance scoring</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">Hot Topics Boost Algorithm</div>
                        <div class="step-description">Real-time trending topic detection with automatic article rescoring and relevance enhancement</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">Advanced Search & Analysis</div>
                        <div class="step-description">DuckDuckGo, Google Custom Search, and Bing integration with PDF processing and content extraction</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">Chain Workflow Orchestration</div>
                        <div class="step-description">Sequential execution of research → analysis → podcast generation with state management</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- USER WORKFLOWS TAB -->
        <div id="workflow" class="tab-content">
            <div class="section">
                <h2>🔄 Enhanced User Workflows</h2>
                
                <h3>🔍 "What's Going On?" - Complete Research Chain</h3>
                <div class="flow-diagram">
                    <div class="workflow-step start">
                        <div class="step-title">User Triggers Workflow</div>
                        <div class="step-description">Frontend button click or voice command initiates comprehensive research chain</div>
                        <div class="step-details">startWhatsGoingOn() → /api/research-agent/start with chain_workflow=true</div>
                    </div>

                    <div class="workflow-step decision">
                        <div class="step-title">Morning Greeting & Interests</div>
                        <div class="step-description">Daily flag check shows personalized greeting with interest review option</div>
                        <div class="step-details">_needs_morning_greeting() → _show_morning_greeting() → Interest adjustment flow</div>
                    </div>

                    <div class="workflow-step decision">
                        <div class="step-title">Hot Topics Boost Analysis</div>
                        <div class="step-description">Smart detection of existing quality boost data with force refresh option</div>
                        <div class="step-details">check_hot_topics_boost_status() → Quality threshold evaluation → Path selection</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Path A: Show Existing Results</div>
                        <div class="step-description">Quality boost data exists - immediate modal display with refresh option</div>
                        <div class="step-details">_prepare_existing_results_for_modal() → Modal with filtering/sorting</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Path B: Fresh Analysis Pipeline</div>
                        <div class="step-description">Generate new hot topics → Collect articles → Apply boost scoring</div>
                        <div class="step-details">TechBusinessEventsAnalyzer → ContentCurator → rescore_with_hot_topics()</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Chain Step 2: Week in Review</div>
                        <div class="step-description">Analyze 7 days of data with LLM consolidation and word cloud generation</div>
                        <div class="step-details">WeekInReviewProcessor → D3.js visualization → Modal display</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Chain Step 3: Podcast Generation</div>
                        <div class="step-description">AI script generation with Edge-TTS dual voice synthesis</div>
                        <div class="step-details">PodcastGenerator → DialoguePiece parsing → Edge-TTS → Audio assembly</div>
                    </div>

                    <div class="workflow-step end">
                        <div class="step-title">Complete Results Presentation</div>
                        <div class="step-description">Interactive modal with articles, downloadable podcast, and chat interface</div>
                        <div class="step-details">Chain completion summary → File download links → Enable chat mode</div>
                    </div>
                </div>

                <h3>🌐 Enhanced Internet Search Workflow</h3>
                <div class="flow-diagram">
                    <div class="workflow-step start">
                        <div class="step-title">Search Query Processing</div>
                        <div class="step-description">Multi-provider search with intelligent query optimization</div>
                        <div class="step-details">EnhancedSearchProvider → DuckDuckGo/Google/Bing → Result aggregation</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Content Enhancement</div>
                        <div class="step-description">Web scraping, PDF processing, and AI summary generation</div>
                        <div class="step-details">scrape_webpage() → PDF detection → generate_summary_and_relevance()</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Interactive Results Display</div>
                        <div class="step-description">Real-time chat about results with save-to-database functionality</div>
                        <div class="step-details">Modal presentation → Chat integration → Database storage options</div>
                    </div>
                </div>

                <h3>📊 Week in Review Advanced Analytics</h3>
                <div class="flow-diagram">
                    <div class="workflow-step start">
                        <div class="step-title">Multi-Day File Discovery</div>
                        <div class="step-description">Scan 7 days for current_events_analysis_*.json files with date parsing</div>
                        <div class="step-details">_find_recent_analysis_files() → Date validation → Content extraction</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">LLM-Powered Consolidation</div>
                        <div class="step-description">ChatAssistant groups similar terms and generates insights</div>
                        <div class="step-details">_consolidate_with_llm() → Keyword grouping → Trend analysis</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Interactive Visualization</div>
                        <div class="step-description">D3.js word clouds with frequency tables and comprehensive summary</div>
                        <div class="step-details">generateWordCloudInModal() → Frequency analysis → Print-friendly format</div>
                    </div>
                </div>

                <h3>🎙️ Advanced Podcast Generation</h3>
                <div class="flow-diagram">
                    <div class="workflow-step start">
                        <div class="step-title">Content Selection & Script Generation</div>
                        <div class="step-description">Top 5 articles with AI-generated dialogue between Alex and Sam personas</div>
                        <div class="step-details">_select_top_articles() → _generate_podcast_script() → 2000+ word dialogue</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Voice Synthesis with Edge-TTS</div>
                        <div class="step-description">Distinct voices with intelligent pause insertion and audio assembly</div>
                        <div class="step-details">DialoguePiece parsing → Edge-TTS generation → pydub audio combining</div>
                    </div>

                    <div class="workflow-step">
                        <div class="step-title">Fallback & Quality Assurance</div>
                        <div class="step-description">System TTS fallback with enhanced script output for manual processing</div>
                        <div class="step-details">Capability detection → Graceful degradation → Download interface</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CHAIN ANIMATION TAB -->
        <div id="chain" class="tab-content">
            <div class="section">
                <h2>🔗 "What's Going On?" Chain Workflow Animation</h2>
                
                <div class="interactive-section">
                    <h3>Interactive Chain Demonstration</h3>
                    <p>Click the play button to see the complete research chain workflow in action:</p>
                    <button class="play-button" onclick="startChainAnimation()">▶️ Start Chain Animation</button>
                </div>

                <div class="chain-animation" id="chainAnimation">
                    <div class="chain-step" id="step1">
                        <div class="chain-icon">🚀</div>
                        <div class="chain-content">
                            <div class="chain-title">Morning Greeting & Interest Check</div>
                            <div class="chain-desc">Daily personalized greeting with research interest review and adjustment options</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step2">
                        <div class="chain-icon">🔍</div>
                        <div class="chain-content">
                            <div class="chain-title">Hot Topics Boost Analysis</div>
                            <div class="chain-desc">Check existing boost data quality or generate fresh current events analysis</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step3">
                        <div class="chain-icon">📰</div>
                        <div class="chain-content">
                            <div class="chain-title">Content Collection & AI Processing</div>
                            <div class="chain-desc">Multi-source article gathering with AI summarization and relevance scoring</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step4">
                        <div class="chain-icon">🔥</div>
                        <div class="chain-content">
                            <div class="chain-title">Hot Topics Rescoring</div>
                            <div class="chain-desc">Apply trending topic boost scores to enhance article relevance rankings</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step5">
                        <div class="chain-icon">📊</div>
                        <div class="chain-content">
                            <div class="chain-title">Week in Review Generation</div>
                            <div class="chain-desc">7-day analysis consolidation with interactive word clouds and trend insights</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step6">
                        <div class="chain-icon">🎙️</div>
                        <div class="chain-content">
                            <div class="chain-title">Podcast Creation</div>
                            <div class="chain-desc">AI script generation with Edge-TTS dual voice synthesis and audio assembly</div>
                        </div>
                    </div>

                    <div class="chain-step" id="step7">
                        <div class="chain-icon">✅</div>
                        <div class="chain-content">
                            <div class="chain-title">Complete Results Presentation</div>
                            <div class="chain-desc">Interactive research modal with downloadable content and chat interface</div>
                        </div>
                    </div>
                </div>

                <h3>🎯 Chain Benefits</h3>
                <div class="workflow-grid">
                    <div class="workflow-card">
                        <div class="workflow-title">⚡ Intelligent Efficiency</div>
                        <div class="workflow-description">
                            Smart detection of existing quality data to avoid redundant processing while maintaining freshness options.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">🔄 Seamless Orchestration</div>
                        <div class="workflow-description">
                            Automated state management between research, analysis, and content generation phases.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">🎨 Rich Output Formats</div>
                        <div class="workflow-description">
                            Multiple deliverables: ranked articles, visual analytics, downloadable podcasts, and interactive summaries.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">💬 Contextual Interaction</div>
                        <div class="workflow-description">
                            Post-chain chat capabilities with full context of generated content and analysis results.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TECHNICAL ARCHITECTURE TAB -->
        <div id="architecture" class="tab-content">
            <div class="section">
                <h2>🏗️ Enhanced Technical Architecture</h2>
                
                <div class="architecture-grid">
                    <div class="component-card">
                        <div class="component-title">🌐 Flask Web Application</div>
                        <div class="component-description">Main application server with comprehensive API endpoints for all workflows</div>
                        <ul class="methods-list">
                            <li>/api/research-agent/start</li>
                            <li>/api/research-agent/message</li>
                            <li>/api/research-agent/search</li>
                            <li>/api/research-agent/all-articles</li>
                            <li>/api/week-in-review/start</li>
                            <li>/api/daily-podcast/start</li>
                            <li>/api/pdf/process</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">🤖 Enhanced Research Assistant</div>
                        <div class="component-description">Core orchestration with state management, chain workflows, and intelligent decision making</div>
                        <ul class="methods-list">
                            <li>ResearchAgentSession</li>
                            <li>start_session(chain_workflow)</li>
                            <li>process_message()</li>
                            <li>perform_internet_search()</li>
                            <li>_check_hot_topics()</li>
                            <li>_handle_chain_step_completion()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">📚 Advanced Content Curator</div>
                        <div class="component-description">Multi-source collection with PDF support, hot topics scoring, and progress tracking</div>
                        <ul class="methods-list">
                            <li>ContentCurator</li>
                            <li>EnhancedSearchProvider</li>
                            <li>WebProgressTracker</li>
                            <li>rescore_with_hot_topics()</li>
                            <li>check_hot_topics_boost_status()</li>
                            <li>scrape_webpage() + PDF support</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">🔥 Current Events Analyzer</div>
                        <div class="component-description">SSL-fixed RSS collection with tech/business focus and LLM analysis</div>
                        <ul class="methods-list">
                            <li>TechBusinessEventsAnalyzer</li>
                            <li>fetch_headlines()</li>
                            <li>analyze_headlines()</li>
                            <li>_enforce_single_word_keywords()</li>
                            <li>clear_hot_topics_flags()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">💬 Contextual Chat Assistant</div>
                        <div class="component-description">LLM integration with enhanced article context and PDF processing support</div>
                        <ul class="methods-list">
                            <li>ChatAssistant</li>
                            <li>generate_response()</li>
                            <li>get_article_for_chat()</li>
                            <li>analyze_url() + PDF detection</li>
                            <li>chat_about_internet_result()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">📊 Week Review Processor</div>
                        <div class="component-description">7-day analysis with LLM consolidation, caching, and D3.js visualization</div>
                        <ul class="methods-list">
                            <li>WeekInReviewProcessor</li>
                            <li>start_week_review()</li>
                            <li>_consolidate_with_llm()</li>
                            <li>save_week_review_to_file()</li>
                            <li>load_existing_week_review()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">🎙️ Enhanced Podcast Generator</div>
                        <div class="component-description">Edge-TTS integration with dual voice synthesis and intelligent fallbacks</div>
                        <ul class="methods-list">
                            <li>PodcastGenerator</li>
                            <li>DialoguePiece</li>
                            <li>_generate_speaker_audio()</li>
                            <li>_combine_audio_clips()</li>
                            <li>_convert_to_audio_enhanced()</li>
                            <li>_create_error_fallback()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">📄 PDF Processing Module</div>
                        <div class="component-description">Multi-library PDF support with graceful fallbacks and content extraction</div>
                        <ul class="methods-list">
                            <li>PDFProcessor</li>
                            <li>is_pdf_url()</li>
                            <li>extract_pdf_text()</li>
                            <li>process_pdf_url()</li>
                            <li>_extract_with_pdfplumber()</li>
                            <li>_extract_with_pymupdf()</li>
                        </ul>
                    </div>

                    <div class="component-card">
                        <div class="component-title">🎨 Modern Frontend Interface</div>
                        <div class="component-description">Glassmorphism design with real-time progress, modal system, and D3.js visualizations</div>
                        <ul class="methods-list">
                            <li>startWhatsGoingOn(force_refresh)</li>
                            <li>Modal drag/resize system</li>
                            <li>generateWordCloudInModal()</li>
                            <li>Real-time progress polling</li>
                            <li>Filter/sort article system</li>
                        </ul>
                    </div>
                </div>

                <h3>🔗 Enhanced API Endpoints</h3>
                <div class="endpoint-box">
                    <span class="method-badge method-post">POST</span>
                    <strong>/api/research-agent/start</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Initialize research session with chain workflow and morning greeting</div>
                </div>

                <div class="endpoint-box">
                    <span class="method-badge method-post">POST</span>
                    <strong>/api/research-agent/all-articles</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Fetch all articles with boost scores for modal filtering</div>
                </div>

                <div class="endpoint-box">
                    <span class="method-badge method-get">GET</span>
                    <strong>/api/research-agent/hot-topics-status/{date}</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Check boost scoring quality for intelligent workflow routing</div>
                </div>

                <div class="endpoint-box">
                    <span class="method-badge method-post">POST</span>
                    <strong>/api/week-in-review/start</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Start week review with caching and chain context support</div>
                </div>

                <div class="endpoint-box">
                    <span class="method-badge method-post">POST</span>
                    <strong>/api/daily-podcast/start</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Generate podcast with Edge-TTS and enhanced audio processing</div>
                </div>

                <div class="endpoint-box">
                    <span class="method-badge method-post">POST</span>
                    <strong>/api/pdf/process</strong>
                    <div style="margin-top: 8px; color: var(--neutral-600);">Process PDF URLs with multi-library extraction support</div>
                </div>
            </div>
        </div>

        <!-- ADVANCED FEATURES TAB -->
        <div id="features" class="tab-content">
            <div class="section">
                <h2>✨ Advanced Platform Features</h2>

                <h3>🧠 Intelligent Decision Making</h3>
                <div class="interactive-section">
                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">🎯 Smart Workflow Routing</div>
                        <div class="expandable-content">
                            <strong>Quality Threshold Detection:</strong>
                            <ul>
                                <li>Automatic detection of existing boost scoring quality</li>
                                <li>Dynamic workflow routing based on data freshness</li>
                                <li>Force refresh option for power users</li>
                                <li>Graceful degradation with useful fallbacks</li>
                            </ul>
                        </div>
                    </div>

                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">⚡ Performance Optimizations</div>
                        <div class="expandable-content">
                            <strong>Advanced Efficiency Features:</strong>
                            <ul>
                                <li>Database-level locking to prevent duplicate AI processing</li>
                                <li>Batch LLM processing for hot topics scoring</li>
                                <li>Week review caching with automatic expiration</li>
                                <li>Progressive enhancement with capability detection</li>
                            </ul>
                        </div>
                    </div>

                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">🔄 State Management</div>
                        <div class="expandable-content">
                            <strong>Session & Workflow State:</strong>
                            <ul>
                                <li>Persistent session state across complex workflows</li>
                                <li>Chain workflow orchestration with error recovery</li>
                                <li>Morning greeting flags with daily reset</li>
                                <li>Context preservation between different interaction modes</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>🎨 User Experience Enhancements</h3>
                <div class="workflow-grid">
                    <div class="workflow-card">
                        <div class="workflow-title">🎭 Interactive Modal System</div>
                        <div class="workflow-description">
                            Draggable, resizable modals with filtering, sorting, and print-friendly week review displays.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">🌈 Modern Glassmorphism UI</div>
                        <div class="workflow-description">
                            Cutting-edge design with animated backgrounds, subtle glass effects, and smooth transitions.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">📊 D3.js Visualizations</div>
                        <div class="workflow-description">
                            Interactive word clouds with hover effects, frequency tables, and responsive design.
                        </div>
                    </div>
                    
                    <div class="workflow-card">
                        <div class="workflow-title">⚡ Real-time Progress</div>
                        <div class="workflow-description">
                            Live progress tracking with detailed phase information and estimated completion times.
                        </div>
                    </div>
                </div>

                <h3>🔧 Technical Capabilities</h3>
                <div class="flow-diagram">
                    <div class="workflow-step">
                        <div class="step-title">Multi-Provider Search Integration</div>
                        <div class="step-description">DuckDuckGo, Google Custom Search, and Bing with intelligent fallbacks and result aggregation</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">Advanced PDF Processing</div>
                        <div class="step-description">PDFPlumber, PyMuPDF, and PyPDF2 support with automatic library detection and graceful degradation</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">Edge-TTS Audio Synthesis</div>
                        <div class="step-description">High-quality voice synthesis with distinct speaker personalities and intelligent pause insertion</div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-title">LLM-Powered Analytics</div>
                        <div class="step-description">Granite3.2:8b integration for summarization, relevance scoring, and trend consolidation</div>
                    </div>
                </div>

                <h3>🚀 Deployment & Management</h3>
                <div class="interactive-section">
                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">🗄️ Enhanced Database Schema</div>
                        <div class="expandable-content">
                            <strong>Optimized Data Storage:</strong>
                            <ul>
                                <li><code>relevance_boost</code> - Hot topics scoring enhancement</li>
                                <li><code>hot_topics_date</code> - Boost scoring timestamp</li>
                                <li><code>hot_topics_keywords_used</code> - Keywords for boost calculation</li>
                                <li>WAL mode for better concurrency and performance</li>
                            </ul>
                        </div>
                    </div>

                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">🔄 Workflow Reset Utility</div>
                        <div class="expandable-content">
                            <strong>Development & Testing Tools:</strong>
                            <ul>
                                <li>Complete database state reset with backup creation</li>
                                <li>Hot topics flag clearing for fresh testing</li>
                                <li>Sample interest configuration setup</li>
                                <li>Morning greeting flag management</li>
                            </ul>
                        </div>
                    </div>

                    <div class="expandable component-card" onclick="toggleExpand(this)">
                        <div class="component-title">⚙️ Configuration Management</div>
                        <div class="expandable-content">
                            <strong>Flexible System Configuration:</strong>
                            <ul>
                                <li>JSON-based source configuration with hot reloading</li>
                                <li>Environment variable support for API keys</li>
                                <li>Graceful capability detection and fallbacks</li>
                                <li>Comprehensive logging and error tracking</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        function toggleExpand(element) {
            const content = element.querySelector('.expandable-content');
            content.classList.toggle('show');
        }

        let chainAnimationRunning = false;

        function startChainAnimation() {
            if (chainAnimationRunning) return;
            
            chainAnimationRunning = true;
            const button = document.querySelector('.play-button');
            button.textContent = '⏸️ Animation Running...';
            button.disabled = true;

            // Reset all steps
            document.querySelectorAll('.chain-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });

            // Animate each step
            const steps = ['step1', 'step2', 'step3', 'step4', 'step5', 'step6', 'step7'];
            let currentStep = 0;

            function animateNextStep() {
                if (currentStep > 0) {
                    // Mark previous step as completed
                    document.getElementById(steps[currentStep - 1]).classList.remove('active');
                    document.getElementById(steps[currentStep - 1]).classList.add('completed');
                }

                if (currentStep < steps.length) {
                    // Activate current step
                    document.getElementById(steps[currentStep]).classList.add('active');
                    currentStep++;
                    
                    // Schedule next step
                    setTimeout(animateNextStep, 2000);
                } else {
                    // Animation complete
                    setTimeout(() => {
                        // Mark last step as completed
                        document.getElementById(steps[steps.length - 1]).classList.remove('active');
                        document.getElementById(steps[steps.length - 1]).classList.add('completed');
                        
                        // Reset button
                        button.textContent = '🔄 Replay Animation';
                        button.disabled = false;
                        chainAnimationRunning = false;
                    }, 2000);
                }
            }

            // Start animation
            setTimeout(animateNextStep, 500);
        }

        // Auto-start chain animation when tab is first opened
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for tab switching
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    if (this.textContent.includes('Chain Animation') && !chainAnimationRunning) {
                        setTimeout(startChainAnimation, 1000);
                    }
                });
            });
        });
    </script>
</body>
</html>